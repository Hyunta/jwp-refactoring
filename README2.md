# 키친 포스 리팩터링 3단계

## 요구사항

- 메뉴의 이름과 가격이 변경되면 주문 항목도 함께 변경된다. 메뉴 정보가 변경되더라도 주문 항목이 변경되지 않게 구현한다.
- 클래스 간의 방향도 중요하고 패키지 간의 방향도 중요하다. 클래스 사이, 패키지 사이의 의존 관계는 단방향이 되도록 해야 한다.



1. 도메인별 패키지 분리

   - Product
   - Menu
   - Table
   - Order 

   4가지 그룹으로 구성, 일단 이름이 같아보이는 것으로 맞췄다. TableGroup과 Table의 생성주기가 다르고, MenuGroup과 Menu의 생성주기도 달라서 패키지를 분리하는게 맞나 고민중이다.



2. 현재 의존성 방향이 어떻게 흐르고 있는지 확인해보자

![레벨5-2](/Users/kimhyuntae/Downloads/레벨5-2.jpg)

OneToMany 단방향으로 걸고 싶었지만, 시간이 부족하고 insert후 update가 나가지 않는 이상한 문제를 겪게되어 양방향 매핑으로 걸어주게됐다. Menu - MenuProduct, Order-OrderLineItem이 서로를 양방향으로 참조하는 구조가 발생한다. 하지만 각 쌍의 생성주기가 같기 때문에 크게 문제가 안될 것 같다는 생각이다.

